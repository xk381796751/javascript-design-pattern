<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>状态模式1.0</title>
</head>

<body>



	<script>
		// 美式咖啡态(american)： 只吐黑咖啡
		// 普通拿铁态(latte)： 黑咖啡加点奶
		// 香草拿铁态(vanillaLatte)： 黑咖啡加点奶再加香草糖浆
		// 摩卡咖啡态(mocha)：黑咖啡加点奶再加点巧克力
		class CoffeeMaker {
			constructor() {
				this.state = 'init';
			}

			// 关注咖啡机状态切换函数
			changeState(state) {
				// 记录当前状态
				this.state = state;
				if (state === 'american') {
					// 这里用 console 代指咖啡制作流程的业务逻辑
					console.log('我只吐黑咖啡');
				} else if (state === 'latte') {
					console.log(`给黑咖啡加点奶`);
				} else if (state === 'vanillaLatte') {
					console.log('黑咖啡加点奶再加香草糖浆');
				} else if (state === 'mocha') {
					console.log('黑咖啡加点奶再加点巧克力');
				}
			}
		}

		const mk = new CoffeeMaker();
		mk.changeState('vanillaLatte');
	</script>
</body>

</html>